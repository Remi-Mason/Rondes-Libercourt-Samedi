<!DOCTYPE html>
<html lang="fr">
<head>
<link rel="icon" type="image/png" href="favicon.png?v=2">
<link rel="shortcut icon" href="favicon.png?v=2">
<link rel="apple-touch-icon" href="favicon.png?v=2">
  <meta charset="utf-8" />
  <title>Planning rondier / intervenant</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg:#f7f7f7; --txt:#111; --border:#000;
      --btn-bg:#fff; --btn-done:#2ecc71;
    }
    html, body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,system-ui,sans-serif;
background: linear-gradient(120deg, #f6d365, #fda085);
  color: #333;
}
    .wrap{ max-width:500px; margin:0 auto; padding:12px 14px 18px; }
    header{ display:flex; justify-content:center; align-items:center; padding:2px 0 5px; }
    header img{ max-width:250px; height:auto; display:block; }
    h1{ text-align:center; font-size:18px; margin:8px 0 16px; font-weight:700; }

    /* Ligne (site à gauche, bouton heure à droite) */
.row{
  display: grid;
  grid-template-columns: minmax(260px, 300px) auto; /* col. adresse fixe (max 300) */
  justify-content: center;                           /* centre l’ensemble dans la ligne */
  gap: 10px;                                          /* écart horizontal réduit */
  align-items: center;
  padding: 6px 0;
  border-bottom: 1px dashed rgba(0,0,0,.15);
}

    /* Boutons : blanc, arrondi, contour noir */
    .btn{
      display:block; background:var(--btn-bg); color:var(--txt);
      border:2px solid var(--border); border-radius:1000px; padding:10px 14px;
      font-weight:600; text-decoration:none; line-height:1; box-shadow:0 1px 0 rgba(0,0,0,.04);
      touch-action:manipulation; -webkit-tap-highlight-color:transparent;
    }
    .btn:active{ transform:translateY(1px); }



    .time-btn{ min-width:76px; text-align:center; font-size:14px; padding:10px 14px; }
    .time-btn.done{ background:var(--btn-done); color:#fff; border-color:#0e8b47; }

    @media (max-width:420px){
      .wrap{ padding:10px 10px 16px; }
      .row{ gap:8px; }
      .time-btn{ min-width:70px; padding:10px 12px; font-size:13px; }
      .site-btn{ padding:10px 12px; }
    }
.site-btn {
  max-width: 300px;
  text-align: center;
  white-space: normal;
  margin: 0;                  /* plus de centrage */
  padding-left: 10px;         /* petit recul à gauche */
  padding-right: 10px;        /* symétrie */
  background-color: #f5f5dc;
}
.nav-links {
  display: flex;
  justify-content: center;
  margin: 5px 0 10px;
}
.nav-btn {
  background: #333;
  color: #fff;
  border: 2px solid #FFF;
  border-radius: 1000px;
  padding: 8px 14px;
  font-weight: 600;
  text-decoration: none;
}

  </style>
</head>
<body>
  <div class="wrap">
    <header><img src="images/logo artemis.png" alt="Logo"></header>
<div class="nav-links">
  <a class="btn nav-btn" href="https://remi-mason.github.io/Rondes-Index/" target="_blank" rel="noopener">Index</a>
</div>
    <h1>Rondes Libercourt
(Samedi)</h1>

    <!-- ZI Libercourt — 20:15 -->
    <div class="row">
      <a class="btn site-btn" target="_blank" rel="noopener"
         href="waze://?ll=50.490439,2.99401&navigate=yes">
        ZI Libercourt — Sécurité
        <span class="sub">Avenue Blaise Pascal, Libercourt</span>
      </a>
      <button class="btn time-btn" data-id="t0015">20:15</button>
    </div>

  <!-- 21:30 — STG Carvin -->
  <div class="row">
    <a class="btn site-btn" target="_blank" rel="noopener"
       href="waze://?ll=50.475376,2.960966&navigate=yes">
      STG Carvin
      <span class="sub">Rue Louis Joseph Gay Lussac</span>
    </a>
    <button class="btn time-btn" data-id="t2230">21:30</button>
  </div>

    <!-- ASPUZIL Seclin — 22:15 -->
    <div class="row">
      <a class="btn site-btn" target="_blank" rel="noopener"
         href="waze://?ll=50.560438,3.032184&navigate=yes">
        ASPUZIL Seclin — Sécurité
        <span class="sub">Rue Marcel Dassault, Seclin</span>
      </a>
      <button class="btn time-btn" data-id="t2100">22:15</button>
    </div>

    <!-- Leroy Merlin Lesquin — 23:30 -->
    <div class="row">
      <a class="btn site-btn" target="_blank" rel="noopener"
         href="waze://?ll=50.584527,3.088254&navigate=yes">
        Leroy Merlin Lesquin — Sécurité
        <span class="sub">51 route de Douai, Lesquin</span>
      </a>
      <button class="btn time-btn" data-id="t2330">23:30</button>
    </div>

    <!-- ZI Libercourt — 00:10 -->
    <div class="row">
      <a class="btn site-btn" target="_blank" rel="noopener"
         href="waze://?ll=50.490439,2.99401&navigate=yes">
        ZI Libercourt — Sécurité
        <span class="sub">Avenue Blaise Pascal, Libercourt</span>
      </a>
      <button class="btn time-btn" data-id="t0015">00:10</button>
    </div>
	
	  <!-- 01:30 — STG Carvin -->
  <div class="row">
    <a class="btn site-btn" target="_blank" rel="noopener"
       href="waze://?ll=50.475376,2.960966&navigate=yes">
      STG Carvin
      <span class="sub">Rue Louis Joseph Gay Lussac</span>
    </a>
    <button class="btn time-btn" data-id="t2230">01:30</button>
  </div>

    <!-- ASPUZIL — 02:00 -->
    <div class="row">
      <a class="btn site-btn" target="_blank" rel="noopener"
         href="waze://?ll=50.560438,3.032184&navigate=yes">
        ASPUZIL Seclin — Sécurité
        <span class="sub">Rue Marcel Dassault, Seclin</span>
      </a>
      <button class="btn time-btn" data-id="t0115">02:00</button>
    </div>
	
		  <!-- 03:30 — STG Carvin -->
  <div class="row">
    <a class="btn site-btn" target="_blank" rel="noopener"
       href="waze://?ll=50.475376,2.960966&navigate=yes">
      STG Carvin
      <span class="sub">Rue Louis Joseph Gay Lussac</span>
    </a>
    <button class="btn time-btn" data-id="t2230">03:30</button>
  </div>

    <!-- ASPUZIL — 04:00 -->
    <div class="row">
      <a class="btn site-btn" target="_blank" rel="noopener"
         href="waze://?ll=50.560438,3.032184&navigate=yes">
        ASPUZIL Seclin — Sécurité
        <span class="sub">Rue Marcel Dassault, Seclin</span>
      </a>
      <button class="btn time-btn" data-id="t0345">04:00</button>
    </div>


<script>
  // === Web Audio API (ultra faible latence) ===
  const ctx = new (window.AudioContext || window.webkitAudioContext)({ latencyHint: "interactive" });

  // Déverrouille l'audio sur le 1er geste utilisateur (nécessaire sur mobile)
  function unlockAudio() {
    if (ctx.state === "suspended") ctx.resume();
  }
  window.addEventListener("pointerdown", unlockAudio, { passive: true });
  window.addEventListener("keydown",   unlockAudio, { passive: true });

  async function loadBuffer(url) {
    const res = await fetch(url);
    const arr = await res.arrayBuffer();
    return await ctx.decodeAudioData(arr);
  }

  const buffers = { click: null, success: null };
  let successPlayed = false;

 function play(buf, gainValue = 1.0){
  if (!buf) return;
  const src = ctx.createBufferSource();
  src.buffer = buf;

  // on ajoute un "volume"
  const gainNode = ctx.createGain();
  gainNode.gain.value = gainValue; // 1.0 = normal, >1 = plus fort

  src.connect(gainNode).connect(ctx.destination);
  src.start(0);
}

  function areAllDone() {
    return [...document.querySelectorAll(".time-btn")]
      .every(b => b.classList.contains("done"));
  }

  function toggleBtn(e) {
    const btn = e.currentTarget;

    // son clic instantané
    play(buffers.click, 0.5); // réduit à 50%

    // bascule visuelle
    btn.classList.toggle("done");
    btn.setAttribute("aria-pressed", btn.classList.contains("done") ? "true" : "false");

    // son succès une seule fois quand tout est vert
    if (areAllDone()) {
      if (!successPlayed) {
        play(buffers.success, 2.0); // volume doublé
        successPlayed = true;
      }
    } else {
      successPlayed = false;
    }
  }

  // Init après chargement du DOM
  (async function init() {
    // Précharge/Decode les sons en mémoire (évite le lag)
    [buffers.click, buffers.success] = await Promise.all([
      loadBuffer("sounds/bubble.mp3"),
      loadBuffer("sounds/success.mp3"),
    ]);

    // Branche les boutons
    document.querySelectorAll(".time-btn").forEach(btn => {
      btn.addEventListener("click", toggleBtn);
      btn.setAttribute("role","button");
      btn.setAttribute("aria-pressed","false");
      btn.classList.remove("done");
    });
  })();
   document.addEventListener("DOMContentLoaded", function(){
    const dropdown = document.querySelector(".dropdown");
    const btn = dropdown.querySelector(".nav-btn");
    
    btn.addEventListener("click", function(){
      dropdown.classList.toggle("open");
    });

    // optionnel : refermer si on clique ailleurs
    document.addEventListener("click", function(e){
      if (!dropdown.contains(e.target)) {
        dropdown.classList.remove("open");
      }
    });
  });
</script>


</body>
</html>



















